!function(_){function e(e){for(var r,i,s=e[0],a=e[1],n=e[2],u=0,b=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(c,i)&&c[i]&&b.push(c[i][0]),c[i]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(_[r]=a[r]);for(d&&d(e);b.length;)b.shift()();return t.push.apply(t,n||[]),o()}function o(){for(var _,e=0;e<t.length;e++){for(var o=t[e],r=!0,s=1;s<o.length;s++){var a=o[s];0!==c[a]&&(r=!1)}r&&(t.splice(e--,1),_=i(i.s=o[0]))}return _}var r={},c={"web/docs":0},t=[];function i(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return _[e].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.e=function(){return Promise.resolve()},i.m=_,i.c=r,i.d=function(_,e,o){i.o(_,e)||Object.defineProperty(_,e,{enumerable:!0,get:o})},i.r=function(_){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})},i.t=function(_,e){if(1&e&&(_=i(_)),8&e)return _;if(4&e&&"object"==typeof _&&_&&_.__esModule)return _;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:_}),2&e&&"string"!=typeof _)for(var r in _)i.d(o,r,function(e){return _[e]}.bind(null,r));return o},i.n=function(_){var e=_&&_.__esModule?function(){return _.default}:function(){return _};return i.d(e,"a",e),e},i.o=function(_,e){return Object.prototype.hasOwnProperty.call(_,e)},i.p="/js/cmodules/";var s=window.webpackJsonp=window.webpackJsonp||[],a=s.push.bind(s);s.push=e,s=s.slice();for(var n=0;n<s.length;n++)e(s[n]);var d=a;t.push([188,"evbus","common"]),o()}({188:function(_,e,o){_.exports=o("8rcM")},"8rcM":function(_,e,o){"use strict";o.r(e);var r=o("rtNo");window.Docs=r.a;try{window.stManager.done(window.jsc("web/docs.js"))}catch(_){}},RdBX:function(_,e,o){"use strict";o.d(e,"a",(function(){return r}));o("Vd3H"),o("OG14"),o("a1Th"),o("Btvt"),o("KKXr"),o("Oyvg");function r(_,e,o){this.list=_,this.iterCur=0,this.iterEnd=_?_.length:0,this.index={},this.callback=o||function(){},this.prepareFunc=e||function(_){return _},setTimeout(this.indexIteration.bind(this),10)}r.prototype.delimiter=r.delimiter=new RegExp("[\\s\\-\\.,\\\"\\'\\«\\(\\)\\[\\]\\{\\}\\#\\+\\?\\\\]+","g"),r.prototype.trimmer=new RegExp("^[\\s\\-\\.,\\\"\\'\\«\\(\\)\\[\\]\\{\\}\\+\\?\\\\]+|[\\s\\-,\\\"\\'\\«\\(\\)\\[\\]\\{\\}\\\\]+$","g"),r.prototype.toTranslit={1072:"a",1073:"b",1074:"v",1075:"g",1076:"d",1077:"e",1078:"zh",1079:"z",1080:"i",1081:"y",1082:"k",1083:"l",1084:"m",1085:"n",1086:"o",1087:"p",1088:"r",1089:"s",1090:"t",1091:"u",1092:"f",1093:"h",1094:"ts",1095:"ch",1096:"sh",1097:"sh",1099:"y",1101:"e",1102:"yu",1103:"ya",1105:"e",1098:"",1100:""},r.prototype.toLocalCase={f:"a",",":"b","<":"b",d:"v",u:"g",l:"d",t:"e",";":"zh",":":"zh",p:"z",b:"i",q:"y",r:"k",k:"l",v:"m",y:"n",j:"o",g:"p",h:"r",c:"s",n:"t",e:"u",a:"f","[":"h","{":"kh",w:"ts",x:"ch",i:"sh",o:"sh",s:"y","'":"e",'"':"e",".":"yu",">":"yu",z:"ya","`":"e","~":"e",m:"","]":"","}":""},r.prototype.toLocalTranslit={1072:"f",1074:"d",1075:"u",1076:"l",1077:"t",1079:"p",1080:"b",1081:"q",1082:"r",1083:"k",1084:"v",1085:"y",1086:"j",1087:"g",1088:"h",1089:"c",1090:"n",1091:"e",1092:"a",1094:"w",1095:"x",1096:"i",1097:"o",1099:"s",1103:"z",1098:"m"},r.prototype.indexIteration=function(){for(var _=Math.min(this.iterEnd,this.iterCur+200),e=this.iterCur;e<_;e++){var o=this.list[e];try{o._order=e}catch(_){}this.add(o)}this.iterCur=e,e>=this.iterEnd?this.callback(this):setTimeout(this.indexIteration.bind(this),10)},r.prototype.strToPrefixes=function(_){for(var e={},o=winToUtf(_).toLowerCase().split(this.delimiter),r=o.length;r--;){var c=o[r],t="";if(c){for(var i=0;i<6;i++){var s=c.charCodeAt(i);if(s){var a=this.toTranslit[s],n=c.substr(i,1);t+=null!=a?a:n}}e[t]=1}}return e},r.prototype.strToSearchPrefixes=function(_){for(var e=[],o=_.toLowerCase().split(this.delimiter),r=o.length;r--;){var c={},t=o[r],i="",s="",a="",n=t.length>1;if(t){for(var d=0;d<6;d++){var u=t.charCodeAt(d);if(u){var b=this.toTranslit[u],l=t.substr(d,1);if(i+=null!=b?b:l,n){var E=this.toLocalCase[l],O=this.toLocalTranslit[u];s+=null!=E?E:l,a+=null!=O?O:l}}}c[i]=1,n&&(c[s]=2,c[a]=3),e.push(c)}}return e},r.prototype.toIndexTree=function(_,e){for(var o=this.index,r=0;r<6;r++){var c=_.substr(r,1)||-1;o=o[c]?o[c]:o[c]=5==r?[]:{}}o.push(e)},r.prototype.remove=function(_){var e=this.prepareFunc(_),o=this.strToPrefixes(e);for(var r in o)if(o.hasOwnProperty(r)){for(var c=this.index,t=0;t<6;t++){var i=r.substr(t,1)||-1;if(!c[i])break;c=c[i]}if(c.length)for(var s in c)if(this.equals(c[s],_)){c.splice(s,1);break}}},r.prototype.equals=function(_,e){for(var o in _)if(_.hasOwnProperty(o))switch(typeof _[o]){case"object":if(!this.equals(_[o],e[o]))return!1;break;case"function":if(void 0===_[o]||_[o].toString()!=e[o].toString())return!1;break;default:if(_[o]!=e[o])return!1}for(var r in e)if(void 0===e[r])return!1;return!0},r.prototype.intersect=function(_,e){var o=[];if(isNumeric(_[0])||isNumeric(e[0]))return _.filter((function(_){return-1!==e.indexOf(_)}));for(;_.length>0&&e.length>0;)_[0]._order<e[0]._order?_.shift():(_[0]._order>e[0]._order||this.equals(_[0],e[0])&&o.push(_.shift()),e.shift());return o},r.prototype.add=function(_){var e=this.prepareFunc(_),o=this.strToPrefixes(e);for(var r in o)o.hasOwnProperty(r)&&this.toIndexTree(r,_)},r.prototype.search=function(_){var e=this.index,o=this.strToSearchPrefixes(_),r=[],c=!1;for(var t in o)if(o.hasOwnProperty(t)){if(c&&!r)break;var i=this.localSearch(o[t],0,e);i.sort((function(_,e){return _._order-e._order})),r=c?this.intersect(r,i):i,c=!0}for(var s=r[0],a=r.length+1,n=[],d=1;d<a;d++){var u=r[d];u!=s&&(n.push(s),s=u)}return n},r.prototype.localSearch=function(_,e,o){if(!o)return[];var r={};for(var c in _)if(_.hasOwnProperty(c)){var t=c.substr(e,1)||-1;r[t]||(r[t]={}),r[t][c]=1}if(6==e++||!o)return o;var i=[];for(var s in r)if(-1==s)for(var a in o)o.hasOwnProperty(a)&&i.push.apply(i,this.localSearch(r[s],e,o[a]));else{var n=this.localSearch(r[s],e,o[s]);i.push.apply(i,n)}return i}},rtNo:function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Docs}));var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("91GP"),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("KKXr"),core_js_modules_es6_regexp_search__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("OG14"),core_js_modules_es6_regexp_constructor__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("Oyvg"),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("pIFo"),core_js_modules_es6_regexp_match__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("SRfc"),_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("zxIV"),_web_lib_dom_events__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("Egk5"),_web_lib_scroll__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("lXE5"),_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("t7n3"),_web_lib_lang__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("4+be"),_web_lib_message_box__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("EasH"),_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("kcIO"),_shared_lib_ls__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("Xrg9"),_shared_lib_convert__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("cGUQ"),_shared_lib_common__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("jE6c"),_web_indexer_indexer__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("RdBX"),_web_lib_stats__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("XzvV"),_web_lib_ui_util__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("ryw6"),_web_lib_tooltip_utils__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("FWc3"),_web_lib_browser__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("gdug"),_web_lib_nav_utils__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("kHqu"),_shared_counters_updateCounters__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("y/eL"),_web_legacy_ui_ui_search__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("btP0"),_web_lib_layout_utils__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("El3O"),_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("98sY"),_web_lib_ui__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("v+DW"),Docs={init:function(){if(Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_9__.i)(cur,{module:"docs",rmenu:Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.a)("#docs_rmenu"),menuTypesList:Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.a)("#ui_rmenu_all_list"),menuTagsList:Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.a)("#ui_rmenu_tag_list"),menuTagsToggle:Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.a)("#ui_rmenu_tag_toggle"),searchInput:Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.a)("#docs_search"),searchReset:Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.a)("#docs_reset"),listCont:Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.a)("#docs_list"),summary:Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.a)("#docs_summary"),titleEl:Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.a)("#docs_title"),listMore:Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.a)("#docs_more"),searchCont:Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.a)("#docs_search_list"),searchSummary:Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.a)("#docs_search_summary"),searchMore:Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.a)("#docs_search_more"),searchBlock:Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.a)("#docs_search_list_block")}),Docs.indexDocs(),setTimeout(()=>Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.H)(cur.searchInput),0),Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_9__.i)(cur,{list:{all:cur.docs},cache:{}}),cur.nav.push((function(_,e,o,r){if(e[0]==o[0]&&(o.section!=e.section&&!_.id||o.type!=e.type))return Docs.changed(o.section,o.type),window.nav.setLoc(o),!1})),Object(_web_lib_dom_events__WEBPACK_IMPORTED_MODULE_7__.b)(window,"scroll",Docs.scrollResize),cur.tpl.office365Notice){var _=Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_9__.r)(_shared_lib_ls__WEBPACK_IMPORTED_MODULE_13__.a.get("docs_office_notice_shown"));if(_<3){var e=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.rb)(cur.tpl.office365Notice);Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.z)(e,Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.a)("#docs_list")),_shared_lib_ls__WEBPACK_IMPORTED_MODULE_13__.a.set("docs_office_notice_shown",_+1)}}},saveDoc:function(){var _=cur.docUrl;return _.match(/\?/)?_+="&dl=1":_+="?dl=1",statlogsValueEvent("docs_preview",0,"download",cur.docExt),location.replace(_),!1},saveLitresDoc:function(){var _=document.createElement("a");_.href=cur.docUrl,_.target="_blank",_.download="book.pdf",statlogsValueEvent("docs_preview",0,"litres_download",cur.docExt),_.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1}))},litresBuy:function(){return cur.docBuyLink&&(statlogsValueEvent("docs_preview",0,"litres_buy",cur.docExt),window.location=cur.docBuyLink),!1},imgZoom:function(_){"can_zoom"==_.className?_.className="can_zoom_out":(_.className="can_zoom",window.scroll(0,0))},saveToDocs:function(_,e){if(!vk.id)return!1;var o=domQuery1(".SaveToDocsButton");if(!o||Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_26__.k)(o))return!1;Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_26__.o)(o);var r="SaveToDocsButton--saved",c=o.classList.contains(r),t=Object(_web_lib_lang__WEBPACK_IMPORTED_MODULE_10__.d)("docs_save_to_docs"),i=Object(_web_lib_lang__WEBPACK_IMPORTED_MODULE_10__.d)("docs_saved_to_docs");c?ajax.post("docs.php",{act:"a_delete",oid:vk.id,did:cur.savedId,hash:cur.savedHash},{onDone:function(){Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_26__.w)(o),cur.savedId=0,cur.savedHash="",o.innerHTML=t,o.classList.remove(r),statlogsValueEvent("docs_preview",0,"remove_from_docs",cur.docExt)},onFail:function(){Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_26__.w)(o)}}):ajax.post("docs.php",{act:"a_add",doc:`${cur.docOwnerId}_${cur.docId}`,hash:_,add_hash:e},{onDone:function(_,e,c,t){Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_26__.w)(o),cur.savedId=c[0],cur.savedHash=t,o.innerHTML=i,o.classList.add(r),statlogsValueEvent("docs_preview",0,"save_to_docs",cur.docExt)},onFail:function(){Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_26__.w)(o)}})},initDoc:function(_){Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_9__.i)(cur,_),window.opener=null,Object(_shared_counters_updateCounters__WEBPACK_IMPORTED_MODULE_22__.a)(location.href,document.referrer)},changed:function(_,e){cur.section=_||"all",cur.type=e||"",Docs.getList(),cur.searchInput.setValue(""),_web_legacy_ui_ui_search__WEBPACK_IMPORTED_MODULE_23__.a.onChanged(cur.searchInput,!0),Docs.updateList("",{force:!0}),cur.searchShown=0},scrollResize:function(){if(!_web_lib_browser__WEBPACK_IMPORTED_MODULE_20__.a.mobile){var _=cur.listMore,e=cur.searchMore;if(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.fb)(_)||(_=e,Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.fb)(_))){var o=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.j)(),r=Object(_web_lib_scroll__WEBPACK_IMPORTED_MODULE_8__.e)(),c=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.V)(_)[1];(r+o>c||cur.searchOffset&&r+2*o>c)&&Docs.showMore()}}},getList:function(_){var e;if(_=_||cur.section,cur.searchStr?(e=_+"_"+cur.type+"_"+cur.searchStr,cur.selection={re:new RegExp("("+cur.searchStr.replace(cur.index.delimiter,"|").replace(/[\/\\\(\)\[\]\{\}\*,]/g,"").replace(/^\||\|$/g,"")+")","gi"),val:'<span class="highlight">$1</span>'}):e=cur.type?_+"_"+cur.type:_,cur.list[e])return cur.found=cur.list[e].length,cur.list[e];var o=cur.searchStr?cur.index.search(cur.searchStr):cur.docs;return cur.list[e]=Docs.filterList(o),cur.found=cur.list[e].length,cur.list[e]},filterList:function(_){for(var e=[],o=_.length,r=0;r<o;r++){var c=_[r];("all"===cur.section&&(!cur.type||cur.type==c[9])||"sent"===cur.section&&1==c[5])&&e.push(c)}return e},indexDocs:function(){cur.docs&&(cur.index=new _web_indexer_indexer__WEBPACK_IMPORTED_MODULE_16__.a(cur.docs,(function(_){return _[2]+" "+_[6]})))},updateTypes:function(){cur.docs&&cur.typesChanged&&(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.b)("._ui_rmenu_subitem",cur.menuTypesList).forEach(_=>_.classList.add("ui_rmenu_item_hidden")),cur.docs.forEach(_=>{var e=_[9];Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.a)("._docs_type_"+e,cur.menuTypesList).classList.remove("ui_rmenu_item_hidden")}),delete cur.typesChanged)},updateTags:function(_){cur.tags&&_&&_.split(",").forEach(_=>{_=Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_9__.I)(_),cur.tags[_]||(cur.tags[_]=!0,cur.menuTagsList.appendChild(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.rb)(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.qb)(cur.tpl.tagItem,{label:_}))),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.mb)(cur.menuTagsToggle,"ui_rmenu_item_hidden"))})},addDocBox:function(){Object(_web_lib_message_box__WEBPACK_IMPORTED_MODULE_11__.b)("/docs.php",{act:"add_box",oid:cur.oid})},addDoc:function(_){cur.docs&&(Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_26__.o)("docs_add_doc"),_._order=(cur.docs[0]&&cur.docs[0]._order||0)-1,cur.docs.unshift(_),Docs.showList(cur.docs.slice(0,cur.perPage)),Object(_web_lib_scroll__WEBPACK_IMPORTED_MODULE_8__.f)(200),cur.index.add(_),Docs.updateTags(_[6]),cur.count+=1,cur.found+=1,cur.menuProgress=cur.typesChanged=!0,window.nav.go(window.nav.objLoc[0]))},drawList:function(_,e){e=e||cur.listCont;var o=document.createDocumentFragment();_.forEach(_=>{o.appendChild(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.rb)(Docs.getDocHTML(_)))}),e.appendChild(o),Object(_web_lib_layout_utils__WEBPACK_IMPORTED_MODULE_24__.c)()},getDocHTML:function(_){var e,o=_[0],r=_[1],c=_[2],t=c,i=_[3],s=_[4],a=_[6],n=_[7],d=_[9]||0,u=_[10]?_[10]:"",b="/doc"+s+"_"+o,l=s==window.vk.id||n==window.vk.id||s==cur.oid&&s<0&&cur.groupAdmin,E=_[8];cur.selection&&(t=t.replace(cur.selection.re,cur.selection.val)),a&&(a=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.qb)(cur.tpl.tags,{tags:a.split(",").map(_=>(cur.selection&&(_=_.replace(cur.selection.re,cur.selection.val)),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.qb)(cur.tpl.tag,{title:_}))).join(", ")}));var O=" docs_icon_type"+d;e=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.qb)(l?cur.tpl.edit:cur.tpl.add,{oid:s,item_id:o}),E=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.qb)(E?cur.tpl.thumb:cur.tpl.icon,{oid:s,item_id:o,ext:r,url:b,thumb:E,title:Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_9__.c)(t),icon_class:O});var D=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.qb)(cur.tpl.itemAdditionalInfo,{date:i,actions:u,tags:a});return Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.qb)(cur.tpl.item,{oid:s,item_id:o,thumb:E,actions:e,title:t,title_clean:c,url:b,additional_info:D})},showList:function(_){if(cur.shown=_.length,cur.shown){if(!cur.listCont)return;cur.listCont.innerHTML="",Docs.drawList(_)}cur.searchShown=0},showMore:function(){var _=Docs.getList();if(_.length&&cur.shown<_.length){var e=_.slice(cur.shown,cur.shown+cur.perPage);cur.shown+=e.length,Docs.drawList(e),cur.shown>=cur.found&&Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.c)(cur.listMore,"unshown")}else cur.searchStr&&Docs.globalSearch(!!cur.searchShown)},globalSearch:function globalSearch(more){if(clearTimeout(cur.searchTimeout),!cur.searchStr||cur.loadingDocs)return!1;!more&&cur.found&&Object(_web_lib_stats__WEBPACK_IMPORTED_MODULE_17__.t)(_web_lib_stats__WEBPACK_IMPORTED_MODULE_17__.A,0,cur.found,cur.searchStr);var searchStr=cur.searchStr;if(!more&&cur.cache[cur.searchStr]){var cache=cur.cache[cur.searchStr];return cur.found||Object(_web_lib_stats__WEBPACK_IMPORTED_MODULE_17__.t)(_web_lib_stats__WEBPACK_IMPORTED_MODULE_17__.A,0,cache[2],cur.searchStr),Docs.processGlobalSearch(searchStr,!0,cache[0],cache[1],cache[2])}return cur.searchTimeout=setTimeout((function(){if(searchStr==cur.searchStr){var requestStartedAt=+new Date;window.ajax.post("/docs.php",{act:"search_docs",q:cur.searchStr,offset:more&&cur.searchShown||0,oid:cur.oid},{onDone:function onDone(evalString,shown,count){var list;try{list=eval("("+evalString+")")}catch(_){return Object(_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_25__.d)(_,evalString),!1}if(!more&&!cur.found){var queryDuration=+new Date-requestStartedAt;Object(_web_lib_stats__WEBPACK_IMPORTED_MODULE_17__.t)(_web_lib_stats__WEBPACK_IMPORTED_MODULE_17__.A,0,count,cur.searchStr,0,0,queryDuration)}return Docs.processGlobalSearch(searchStr,!more,list,shown,count)},showProgress:function(){cur.loadingDocs=!0,more?Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_26__.o)(cur.searchMore):_web_legacy_ui_ui_search__WEBPACK_IMPORTED_MODULE_23__.a.showProgress(cur.searchInput)},hideProgress:function(){cur.loadingDocs=!1,more?Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_26__.w)(cur.searchMore):_web_legacy_ui_ui_search__WEBPACK_IMPORTED_MODULE_23__.a.hideProgress(cur.searchInput)}})}}),more?10:300),!0},processGlobalSearch:function(_,e,o,r,c){return _===cur.searchStr&&(cur.searchCount=c,Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.yb)(cur.searchBlock,!e||r&&o),r&&o&&(e&&(cur.searchCont.innerHTML="",cur.searchShown=0),Docs.drawList(o,cur.searchCont),cur.searchShown=cur.searchShown+r),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.zb)(cur.searchMore,"unshown",cur.searchShown>=c||cur.searchShown>=1e3||!r||!o),Docs.drawSummary(!0),cur.cache[cur.searchStr]=[o,r,c],!0)},drawSummary:function(_){var e=Docs.getList().length,o=cur.type?"type"+cur.type:cur.section;if(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.Cb)(cur.summary,e?Object(_web_lib_lang__WEBPACK_IMPORTED_MODULE_10__.j)(e,"%s",!0):""),cur.sectionLabels[o]&&Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.Cb)(cur.titleEl,cur.sectionLabels[o]),_){var r=cur.searchShown&&cur.searchCount;Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.Cb)(cur.searchSummary,r?Object(_web_lib_lang__WEBPACK_IMPORTED_MODULE_10__.j)(r,"%s",!0):"")}},updateList:function(_,e){if(e=e||{},_==cur.searchStr&&!e.force)return!1;if(cur.menuProgress&&"menu"!==e.from){var o=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.a)("._docs_section_"+cur.section,cur.rmenu);window.uiRightMenu.switchMenu(o),window.uiRightMenu.showProgress(o),delete cur.menuProgress}Docs.updateTypes(),cur.searchStr=_,cur.selection=!1;var r=Docs.getList(),c=r.length;if(Docs.hideLoadProgress(),cur.searchStr||Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.bb)(cur.searchBlock),cur.searchStr||Object(_web_lib_stats__WEBPACK_IMPORTED_MODULE_17__.s)(_web_lib_stats__WEBPACK_IMPORTED_MODULE_17__.A),!c){cur.shown=0,Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.c)(cur.listMore,"unshown");var t=cur.searchStr?Object(_web_lib_lang__WEBPACK_IMPORTED_MODULE_10__.d)("docs_empty_search").replace("%s","<b>"+Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_9__.c)(cur.searchStr)+"</b>"):cur.oid<0?Object(_web_lib_lang__WEBPACK_IMPORTED_MODULE_10__.d)("docs_no_group_docs"):Object(_web_lib_lang__WEBPACK_IMPORTED_MODULE_10__.d)("docs_no_user_docs");cur.listCont.innerHTML=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.qb)(cur.tpl.empty,{text:t})}return(cur.searchStr||c)&&(Docs.showList(r.slice(0,cur.perPage)),c&&Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.zb)(cur.listMore,"unshown",cur.found<=cur.shown),c<cur.perPage)?(cur.searchStr&&Docs.globalSearch(),Docs.drawSummary(),!0):(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.bb)(cur.searchBlock),Docs.drawSummary(),!0)},hideLoadProgress:function(){window.uiRightMenu&&window.uiRightMenu.hideProgress(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.x)(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.a)("#narrow_column")))},editItem:function(_,e,o){return!Object(_web_lib_message_box__WEBPACK_IMPORTED_MODULE_11__.b)("/docs.php",{act:"edit_box",oid:e,did:o})},downloadItem:function(_,e,o,r,c){if(Object(_web_lib_dom_events__WEBPACK_IMPORTED_MODULE_7__.d)(c))return!0;var t=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.q)("_docs_item",_);if(!t)return!Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.q)("_feed_notification",_)||!cur||"notifications"!==cur.section;var i=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.a)(".docs_item_icon",t)||Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.a)(".docs_item_thumb",t),s=i.href,a=Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_9__.I)(i.getAttribute("ext"));return-1=="jpg|gif|png|pdf|doc|docx|xls|xlsx|rtf|ppt|pptx".indexOf(a)?location.href=s+(s.match(/\?/)?"&":"?")+"wnd=1&fragment="+Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_9__.r)(r):(r&&(s=s+(s.match(/\?/)?"&":"?")+"fragment=1"),window.open(s)),Object(_web_lib_dom_events__WEBPACK_IMPORTED_MODULE_7__.c)(c)},addItem:function(_,e,o,r){cur._addedDocsInfo=cur._addedDocsInfo||{};var c=e+"_"+o,t=cur._addedDocsInfo[c],i=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.q)("_docs_item",_);if(t){var s={act:"a_delete",hash:r,did:t[0],oid:t[4]};window.ajax.post("/docs.php",s,{onDone:function(){if(delete cur._addedDocsInfo[c],s.to_id==cur.oid){for(var _=cur.docs.length;_--;){cur.docs[_][0]==t[0]&&(cur["item_restore"+t[0]]=[cur.docs.splice(_,1)[0],_],cur.index.remove(cur["item_restore"+t[0]][0]),cur.typesChanged=!0)}cur.count-=1,cur.found-=1,cur.list={}}}})}else{var a={act:"a_add",doc:c,hash:r,to_id:cur.groupAdmin?cur.oid:window.vk.id};window.ajax.post("/docs.php",a,{onDone:function(_,e,o){Object(_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_12__.f)(_),cur._addedDocsInfo[c]=o,a.to_id==cur.oid&&(o._order=(cur.docs[0]&&cur.docs[0]._order||0)-1,cur.docs.unshift(o),cur.index.add(o),Docs.updateTags(o[6]),cur.typesChanged=!0,window._tbLink&&window._tbLink.loc&&(cur.__phinputs=cur.__phinputs||[],Object(_web_lib_nav_utils__WEBPACK_IMPORTED_MODULE_21__.a)(window._tbLink.loc)))}})}return Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.zb)(i,"doc_added",!t),Docs.rowActive(_,"add"),!1},deleteItem:function(_,e,o,r,c,t){var i=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.q)("_docs_item",_);if(i)return _&&window.tooltips&&window.tooltips.destroy(_),window.ajax.post("/docs.php",{act:"a_delete",hash:r,did:o,oid:e,sure:c,comment:t},{onDone:function(c){if(c){Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.c)(i,"docs_item_deleted");var t=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.a)(`#docs_restore_row${e}_${o}`);t&&(t.innerHTML=c);for(var s=cur.docs.length;s--;){cur.docs[s][0]==o&&(cur["item_restore"+o]=[cur.docs.splice(s,1)[0],s],cur.index.remove(cur["item_restore"+o][0]),cur.typesChanged=!0)}cur.count-=1,cur.found-=1,cur.list={}}else window.createConfirmBox(Docs.deleteItem.bind(null,_,e,o,r,1),"документ")},showProgress:()=>Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.c)(i,"docs_item_loading"),hideProgress:()=>Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.mb)(i,"docs_item_loading")}),!1},restoreItem:function(_,e,o,r){var c=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.q)("_docs_item",_);if(c)return window.ajax.post("/docs.php",{act:"a_restore",hash:r,did:o,oid:e},{onDone:function(_){Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.mb)(c,"docs_item_deleted");var e=cur["item_restore"+o];e&&(cur.docs.splice(e[1],0,e[0]),cur.index.add(e[0]),cur.typesChanged=!0,cur.count+=1,cur.found+=1)},showProgress:()=>Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.c)(c,"docs_item_loading"),hideProgress:()=>Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.mb)(c,"docs_item_loading")}),!1},tagSearch:function(_,e){var o=Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_9__.I)(_.innerText||_.textContent);return cur.searchInput.setValue(o),_web_legacy_ui_ui_search__WEBPACK_IMPORTED_MODULE_23__.a.onChanged(cur.searchInput,!0),Docs.updateList(o,e),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.H)(cur.searchInput),Object(_web_lib_scroll__WEBPACK_IMPORTED_MODULE_8__.f)(100),!1},selectTag:function(_){return Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.a)(".ui_rmenu_item_sel",cur.rmenu)!==_&&(window.uiRightMenu.switchMenu(_),window.uiRightMenu.showProgress(_),cur.menuProgress=!0,cur.section="all",cur.type="",Docs.tagSearch(_,{from:"menu"}))},addTag:function(_,e){var o=Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_9__.I)(_.innerText||_.textContent);return e.selectItem([o,o])},rowActive:function(_,e){var o,r=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.q)("_docs_item",_);(o="delete"===e||r&&Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.ab)(r,"doc_added")&&"add"===e?Object(_web_lib_lang__WEBPACK_IMPORTED_MODULE_10__.d)("docs_remove_tt"):"edit"===e?Object(_web_lib_lang__WEBPACK_IMPORTED_MODULE_10__.d)("docs_edit_tt"):cur.groupAdmin?Object(_web_lib_lang__WEBPACK_IMPORTED_MODULE_10__.d)("docs_add_to_group_tt"):Object(_web_lib_lang__WEBPACK_IMPORTED_MODULE_10__.d)("docs_add_tt"))&&Object(_web_lib_tooltip_utils__WEBPACK_IMPORTED_MODULE_19__.c)(_,{text:function(){return o},showdt:500,black:1,shift:[12,5,5]})},filterMP3:function(_,e){var o=[];return Object(_shared_lib_common__WEBPACK_IMPORTED_MODULE_15__.b)(e,(function(){if("mp3"!==this.name.substr(-3).toLowerCase())o.push(this);else{var _=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.a)("#docs_upload_error");_?(_.innerHTML=Object(_web_lib_lang__WEBPACK_IMPORTED_MODULE_10__.d)("docs_upload_mp3_fail"),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.xb)(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.C)(_))):setTimeout(Object(_web_lib_message_box__WEBPACK_IMPORTED_MODULE_11__.d)({title:Object(_web_lib_lang__WEBPACK_IMPORTED_MODULE_10__.d)("global_error")},Object(_web_lib_lang__WEBPACK_IMPORTED_MODULE_10__.d)("docs_upload_mp3_fail")).hide,4e3)}})),o},showFileTT:function(_,e,o){if(clearTimeout(cur.fileTT),!_||!e||!o)return!1;"gif"===e&&(cur.fileTT=setTimeout((function(){var e=o+"?wnd=1";cur.fileTTImage=new Image,cur.fileTTImage.src=e,cur.fileTTImage.onload=function(){cur.fileTTImage&&cur.fileTTImage.getAttribute("src")===e&&(cur.prevTT&&cur.prevTT!=_&&cur.prevTT.tt&&cur.prevTT.tt.hide(),clearTimeout(_.hidetimer),_.hidetimer=!1,cur.prevTT=_,Object(_web_lib_tooltip_utils__WEBPACK_IMPORTED_MODULE_19__.c)(_,{content:'<img class="docs_tt_image" src="'+e+'" align="center"/>',shift:[14,7,7],slide:15,className:"docs_tt",dir:"auto",hasover:!1,nohideover:!0,showdt:0}))},window.stManager.add([jsc("web/tooltips.js"),"tooltips.css"])}),500))},hideFileTT:function(){clearTimeout(cur.fileTT),delete cur.fileTTImage},chooseSwitchTT:function(_){return Object(_web_lib_tooltip_utils__WEBPACK_IMPORTED_MODULE_19__.c)(_,{text:function(){return _.getAttribute("data-tt")},black:1,showdt:500,shift:[3,0,0]})},chooseSwitch:function(_){if(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.ab)(Object(_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_12__.b)().titleWrap,"box_loading"))return!1;cur.docsChooseInput.setValue(""),_web_legacy_ui_ui_search__WEBPACK_IMPORTED_MODULE_23__.a.onChanged(cur.docsChooseInput,!0),cur.docsTab="user_docs"===cur.docsTab?"group_docs":"user_docs";var e=cur.docsCurFilter,o={act:"a_choose_doc_box",offset:0,to_id:cur.docsToId,tab:cur.docsTab,switch_tab:1,ext_filter:e||""};Object.assign(o,{from:cur.docsChooseFrom,imhash:cur.docsChooseImHash}),window.ajax.post("/docs.php",o,{onDone:function(e,o,r,c,t){cur.docsChooseRows.innerHTML=e,cur.docsChooseMore.innerHTML=c,Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.yb)(cur.docsChooseMore,!r),cur.docsOffset=o,_.innerHTML=t},showProgress:Object(_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_12__.b)().showCloseProgress,hideProgress:Object(_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_12__.b)().hideCloseProgress})},chooseUpdateList:function(_,e){e!=cur.chooseDocsQuery&&(clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>Docs.chooseDocsSearch(_),e?300:0))},chooseDocsSearch:function(_){var e=Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_9__.I)(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.Cb)(_));e!=cur.docsSearchStr&&(cur.docsSearchStr=e,e?(cur.docsOffset=0,Docs.chooseMore()):(cur.docsOffset=cur.docsStartOffset,cur.docsChooseRows.innerHTML=cur.docsStartHTML,Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.yb)(cur.docsChooseMore,cur.docsStartMore)))},chooseMore:function(){if(cur.docsChooseLoading)return!1;var _={act:"a_choose_doc_box",offset:cur.docsOffset,to_id:cur.docsToId,tab:cur.docsTab,q:cur.docsSearchStr,more:1,ext_filter:cur.docsCurFilter};Object.assign(_,{from:cur.docsChooseFrom,imhash:cur.docsChooseImHash}),window.ajax.post("/docs.php",_,{onDone:function(_,e,o){0==cur.docsOffset?cur.docsChooseRows.innerHTML=_:cur.docsChooseRows.appendChild(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.h)(_)),cur.docsOffset=e,o&&Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.bb)(cur.docsChooseMore)},showProgress:function(){cur.docsChooseLoading=!0,cur.docsOffset?Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.c)(cur.docsChooseMore,"choose_loading"):_web_legacy_ui_ui_search__WEBPACK_IMPORTED_MODULE_23__.a.showProgress(cur.docsChooseInput)},hideProgress:function(){cur.docsChooseLoading=!1,cur.docsOffset?Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.mb)(cur.docsChooseMore,"choose_loading"):_web_legacy_ui_ui_search__WEBPACK_IMPORTED_MODULE_23__.a.hideProgress(cur.docsChooseInput)}})},chooseScroll:function(){var _=window.lastWindowHeight;Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.fb)(cur.docsChooseMore)&&_>Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.V)(cur.docsChooseMore,!0)[1]-Object(_web_lib_scroll__WEBPACK_IMPORTED_MODULE_8__.e)()-_&&cur.docsChooseMore.click()},chooseDoc:function(_,e,o,r){if("A"===r.target.tagName||"A"===r.target.parentNode.tagName)return!0;var c=_&&Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.a)("._docs_choose_attach",_);if(void 0!==_.selected)cur.lastAddMedia&&(cur.lastAddMedia.unchooseMedia(_.selected),_.selected=void 0,Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.mb)(_,"docs_item_selected"),c&&(c.innerHTML=Object(_web_lib_lang__WEBPACK_IMPORTED_MODULE_10__.d)("global_add_media")));else{var t=cur.attachCount&&cur.attachCount()||0;window.event=window.event||r,cur.chooseMedia("doc",e,o),window.event=void 0,(!cur.attachCount||cur.attachCount()>t)&&cur.lastAddMedia&&(_.selected=cur.lastAddMedia.chosenMedias.length-1,Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.c)(_,"docs_item_selected"),c&&(c.innerHTML=Object(_web_lib_lang__WEBPACK_IMPORTED_MODULE_10__.d)("global_cancel")))}return Object(_web_lib_dom_events__WEBPACK_IMPORTED_MODULE_7__.c)(r)},upload:function(_,e){return!(void 0!==cur.uplId&&window.Upload&&window.Upload.checkFileApi()&&window.Upload.checked&&window.Upload.checked[cur.uplId])||(cur.docsChooseUpload.click(),!1)},chooseUploaded:function(_,e){var o=void 0!==_.ind?_.ind:_,r=(_.fileName||_.filename).replace(/[&<>"']/g,""),c=r?o+"_"+r:_,t=document.getElementById(`upload${c}_progress_wrap`);t&&Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.bb)(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.a)(".progress_x",t)),window.ajax.post("/docs.php",Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_9__.i)({act:"a_save_doc",from:"choose",from_place:cur.docsChooseFrom,imhash:cur.docsChooseImHash,blockPersonal:cur.docsChooseBlockPersonal,mail_add:cur.docsChooseMailAdd},e),{onDone:function(_,e,o){cur.chooseMedia("doc",_+"_"+e,Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_9__.i)(o,{upload_ind:c}))},onFail:(_,e)=>Docs.chooseUploadFailed(_,e),progress:"form"===window.Upload.types[o]?window.box.progress:null})},chooseUploadFailed:function(_,e){var o=void 0!==_.ind?_.ind:_,r=(_.fileName?_.fileName:_.filename||_).replace(/[&<>"']/g,"");if("fileApi"===window.Upload.types[o]&&!window.Upload.options[o].wiki_editor){var c,t,i=(_.fileName||_.filename).replace(/[&<>"']/g,""),s=i?o+"_"+i:_;cur.imMedia||cur.imwMedia?(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.kb)("upload"+s+"_progress_wrap"),c=(-3==cur.peer?cur.imwMedia:cur.imMedia).lnkId,cur.addMedia[c].unchooseMedia(!1)):cur.addMedia&&(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.kb)("upload"+s+"_progress_wrap"),(c=(cur.attachMediaIndexes||{})[r])&&cur.addMedia[c].unchooseMedia(!1));var a=!0;e&&"string"==typeof e.error&&e.error.match(/ERR_UPLOAD_TERMINATED/)&&(a=!1),t=e&&"wrong_arch_file"===e.error?Object(_web_lib_lang__WEBPACK_IMPORTED_MODULE_10__.d)("docs_upload_arch_fail"):e&&"wrong_mp3_file"===e.error?Object(_web_lib_lang__WEBPACK_IMPORTED_MODULE_10__.d)("docs_upload_mp3_fail"):e&&"wrong_music_file"===e.error?Object(_web_lib_lang__WEBPACK_IMPORTED_MODULE_10__.d)("docs_upload_music_fail"):e&&"wrong_arch_mp3_file"===e.error?Object(_web_lib_lang__WEBPACK_IMPORTED_MODULE_10__.d)("docs_upload_arch_mp3_fail"):Object(_web_lib_lang__WEBPACK_IMPORTED_MODULE_10__.d)("docs_upload_fail"),a&&setTimeout(Object(_web_lib_message_box__WEBPACK_IMPORTED_MODULE_11__.d)({title:Object(_web_lib_lang__WEBPACK_IMPORTED_MODULE_10__.d)("global_error")},t).hide,4e3)}Object(_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_12__.b)()&&Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.bb)(Object(_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_12__.b)().progress),Object(_web_lib_ui_util__WEBPACK_IMPORTED_MODULE_18__.c)("Upload failed",{dt:-1,type:102,url:(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.a)("#file_uploader_form"+o)||{}).action}),window.Upload.embed(o)},chooseUploadStart:function(_,e){var o=void 0!==_.ind?_.ind:_,r=window.Upload.options[o],c=window.Upload.types[o];cur.docsChooseFiles[o]=e||_,"form"===c&&(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.xb)(Object(_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_12__.b)().progress),Object(_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_12__.b)().changed=!0,Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.a)(".file",cur.docsChooseUpload).disabled=!0),"flash"===c&&(window.boxLayerWrap.visibilityHide=!0,cur.docsChooseIsFlash=!0),r.wiki_editor||(cur.notStarted&&(window.boxQueue.hideLast(),delete cur.notStarted),Docs.chooseUploadProgress(_,0,0)),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.mb)(window.boxLayerWrap,"dropbox_over")},chooseUploadProgress:function(_,e,o){var r=void 0!==_.ind?_.ind:_;if(void 0===_.ind&&(_=cur.docsChooseFiles[r]),window.Upload.options[r].wiki_editor)cur.docsChooseUploadArea.innerHTML='<img src="/images/upload.gif"/>';else{var c=(cur.attachMediaIndexes||{})[r];if(void 0===c||c&&cur.addMedia[c].chosenMedia||cur.imMedia){var t={loaded:e,total:o};(_.fileName||_.filename)&&(t.fileName=(_.fileName||_.filename).replace(/[&<>"']/g,"")),cur.showMediaProgress("photo",r,t)}}},chooseUploadComplete:function chooseUploadComplete(info,res){var params,i=void 0!==info.ind?info.ind:info;if(res){try{params=eval("("+res+")")}catch(_){Object(_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_25__.d)(_,res),params=Object(_shared_lib_convert__WEBPACK_IMPORTED_MODULE_14__.fromQueryString)(res)}if(params.file){var options=window.Upload.options[i];options&&options.bugcomments_editor&&(params.bugcomments_editor=options.bugcomments_editor),Docs.chooseUploaded(info,params)}else window.Upload.onUploadError(info,params)}},chooseHideFlashUploader:function(){Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.ab)(window.boxLayerWrap,"box_layer_hidden")&&(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.mb)(window.boxLayerWrap,"box_layer_hidden"),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.bb)(window.boxLayerWrap)),window.boxLayerWrap.visibilityHide=!1},onChooseDragEnter:function(_){window.boxLayerWrap.scrollTop=0;var e=Object(_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_12__.b)(),o=e.bodyNode;if(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.fb)(cur.docsChooseRows))e.bodyH=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.S)(o)[1];else if(void 0!==e.bodyH){var r=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.V)(o,!0)[1],c=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.S)(cur.docsChooseDropbox)[1],t=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.S)(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.C)(cur.docsChooseDropbox))[1]-c;Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.vb)(cur.docsChooseDropbox,"height",Math.min(window.lastWindowHeight-r-t,e.bodyH-t))}return Object(_web_lib_dom_events__WEBPACK_IMPORTED_MODULE_7__.c)(_)},onDragEnter:function(){Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.c)(cur.docsChooseWrap,"dropbox_over"),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.c)("box_layer_wrap","box_layer_wrap--docs_upload")},onDragOut:function(){Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.mb)(cur.docsChooseWrap,"dropbox_over"),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.mb)("box_layer_wrap","box_layer_wrap--docs_upload")},hideOfficeNotice:function(_){_shared_lib_ls__WEBPACK_IMPORTED_MODULE_13__.a.set("docs_office_notice_shown",999),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.bb)(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.C)(_))},claimHint:function(_){Object(_web_lib_tooltip_utils__WEBPACK_IMPORTED_MODULE_19__.c)(_,{text:Object(_web_lib_lang__WEBPACK_IMPORTED_MODULE_10__.d)("docs_claimed_doc_hint"),shift:[24,3],black:1,className:"claim_hint_tooltip",dir:"bottom"})},_eof:1}}});